<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Image2WebP Cleaner</title>
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- カスタムCSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body class="container">

  <!-- テーマ切替 -->
  <button id="theme-toggle" class="btn btn-secondary btn-sm">🌙 Dark</button>

  <h1 class="text-center my-4">Image2WebP Cleaner</h1>

  <!-- ドロップエリア -->
  <div id="dropzone">ここに PNG / JPG / WebP をドロップ</div>

  <!-- 進捗表示 -->
  <div id="progress-container" class="my-3" style="display:none;">
    <p id="progress-text">処理中...</p>
    <div class="progress">
      <div id="progress" class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%"></div>
    </div>
  </div>

  <!-- ZIPボタン -->
  <button id="zip-btn" class="btn btn-primary my-3" disabled>全てZIPでダウンロード</button>

  <!-- 結果テーブル -->
  <div class="table-responsive">
    <table id="results" class="table table-bordered table-striped table-hover" style="display:none;">
      <thead class="table-light">
        <tr>
          <th>ファイル名</th>
          <th>元サイズ</th>
          <th>変換後サイズ (WebP)</th>
          <th>差分</th>
          <th>削減率</th>
          <th>個別DL</th>
        </tr>
      </thead>
      <tbody></tbody>
      <tfoot>
        <tr>
          <td>合計</td>
          <td id="total-orig">-</td>
          <td id="total-new">-</td>
          <td id="total-diff">-</td>
          <td id="total-percent">-</td>
          <td></td>
        </tr>
      </tfoot>
    </table>
  </div>

  <canvas id="canvas" style="display:none;"></canvas>

  <!-- ライブラリ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
  <!-- メインスクリプト -->
  <script src="script.js"></script>
</body>
</html>
